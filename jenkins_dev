@Library('piper-library-os') _

properties([parameters([string(name: 'previousBuildNumber', description: 'The version of the application to deploy.'),string(name: 'previousBuildUrl', description: 'The URL of the build that triggered that deployment.')])])

node() {

  echo "${previousBuildNumber}"
  echo "${previousBuildUrl}"

 
  stage('solmanTrCreate') {
      transportRequestCreate script:this, changeDocumentId:'8000004822',developmentSystemId: 'SM1~ABAP/001',applicationId: 'HCP'
  }
  
  stage('solmanUpload') {
      transportRequestUploadFile  script:this, changeDocumentId:'8000004822',developmentSystemId: 'SM1~ABAP/001',applicationId: 'HCP'
  }
  
  stage('neoDeploy') {
      checkout scm

      setupCommonPipelineEnvironment script:this

      checkChangeInDevelopment script: this,changeDocumentId:'8000004822'
    
      mtaBuild script: this
      neoDeploy script: this
  }
  
  stage('uploadvelocity') {    
 }
 
} 
